(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/discover/topics/topics_details"],{"164d":function(t,e,i){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("840b"));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){return i.e("pages/discover/topics/input_detail").then(i.bind(null,"ad2e"))},c=function(){return i.e("pages/playPage/commentItem").then(i.bind(null,"3057"))},r=i("a4b0"),u={data:function(){return{scrollTop:0,commentListShow:!0,style:{pageHeight:0,contentViewHeight:0},vodId:"",topic:{},film_details:{},commentData:[],movieArr:[],current:0,unknow:"未知"}},components:{input_detail:o,commItem:c},onNavigationBarButtonTap:function(e){var i=this,s=this.$store.state.isLogin;if(s){var o={href:"http://47.98.171.179:8080/download_page/download.html",title:'98影院，随时随地抢"鲜"看！',desc:"精彩大片抢先看",imgUrl:"/static/98Code.png"},c=this,r=this.$store.state.userInfo.loginToken;this.shareObj=(0,n.default)(o,function(e){console.log(a("点击按钮的序号: "+e," at pages\\discover\\topics\\topics_details.vue:103"));var i={href:o.href||"",title:o.title||"",summary:o.desc||"",success:function(e){console.log(a("success:"+JSON.stringify(e)," at pages\\discover\\topics\\topics_details.vue:109")),c.$nextTick(function(){c.shareObj.alphaBg.hide(),c.shareObj.shareMenu.hide()}),t.request({url:c.websiteUrl+"/api/share/point",method:"GET",header:{Authorization:r},data:{},success:function(e){0==e.data.status?console.log(a(e," at pages\\discover\\topics\\topics_details.vue:123")):1001==e.data.status&&(t.showToast({title:e.data.message,icon:"none",mask:!0}),setTimeout(function(){t.hideToast(),t.navigateTo({url:"/pages/login/login",animationType:"slide-in-top"})},300))},fail:function(){},complete:function(){}})},fail:function(e){console.log(a("fail:"+JSON.stringify(e)," at pages\\discover\\topics\\topics_details.vue:144")),c.$nextTick(function(){c.shareObj.alphaBg.hide(),c.shareObj.shareMenu.hide()}),t.request({url:c.websiteUrl+"/api/share/point",method:"GET",header:{Authorization:r},data:{},success:function(e){0==e.data.status?console.log(a(e," at pages\\discover\\topics\\topics_details.vue:158")):1001==e.data.status&&(t.showToast({title:e.data.message,icon:"none",mask:!0}),setTimeout(function(){t.hideToast(),t.navigateTo({url:"/pages/login/login",animationType:"slide-in-top"})},300))},fail:function(){},complete:function(){}})}};switch(e){case 0:i.provider="weixin",i.scene="WXSceneSession",i.type=0,i.imageUrl=o.imgUrl||"",t.share(i);break;case 1:i.provider="weixin",i.scene="WXSenceTimeline",i.type=0,i.imageUrl=o.imgUrl||"",t.share(i);break;case 2:i.provider="qq",i.type=1,i.imageUrl=o.imgUrl||"",t.share(i);break;case 3:t.setClipboardData({data:o.href,complete:function(){t.showToast({title:"已复制到剪贴板"})}});break;case 4:plus.share.sendWithSystem({type:"web",title:o.title||"",thumbs:[o.imgUrl||""],href:o.href||"",content:o.desc||""});break}}),this.$nextTick(function(){i.shareObj.alphaBg.show(),i.shareObj.shareMenu.show()})}else t.navigateTo({url:"/pages/login/login",animationType:"slide-in-top"})},onLoad:function(e){var i=this;this.vodId=e.topicId,t.request({url:this.websiteUrl+"/api/discover/getRotTopicDesc?topicId="+this.vodId,success:function(t){0==t.data.status&&(i.task_basic_data=t.data,i.topic=t.data.topic,i.movieArr=t.data.movie,i.film_details=i.movieArr[i.current])}}),t.request({url:this.websiteUrl+"/api/discover/comment/list?topicId="+this.vodId,success:function(t){0==t.data.status&&(t.data.list.length>0?(i.commentData=t.data.list,i.commentListShow=!1):(i.commentData=[],i.commentListShow=!0))}});var a=t.getSystemInfoSync();this.style.pageHeight=a.windowHeight,this.style.contentViewHeight=a.windowHeight-t.getSystemInfoSync().screenWidth/750*110},methods:{getCurrent:function(t){this.current=t.detail.current,this.film_details=this.movieArr[this.current]},toplay:function(e){var i=e.target.dataset.id;t.navigateTo({url:"/pages/playPage/playPage?vodId="+i,animationType:"slide-in-right",animationDuration:300})},checkOtherComment:function(e){var i={data:[],commentId:e.commentId,vodId:this.vodId};e.commentObject&&(i.data=e.commentObject);JSON.stringify(i);t.navigateTo({url:"../../../pages/discover/topics/topics_details_comment?commentList="+JSON.stringify(i)})},toSendMessage:function(e){var i=this,a=this;1==this.currentCommentType&&(this.currentCommentId=0);var n={commentId:"",userId:this.$store.state.userInfo.userId,commentName:this.$store.state.userInfo.userName,commentRid:Number(this.vodId),commentContent:e.inputValue};t.request({url:this.websiteUrl+"/api/discover/inscomment",method:"POST",data:n,success:function(t){var n={commentContent:e.inputValue,commentId:t.data.commentId,commentMid:200,commentName:i.$store.state.userInfo.userName,commentObject:[],commentPid:i.currentCommentId,commentTime:r.getNowTime("yyyy-MM-dd hh:mm:ss"),userId:i.$store.state.userInfo.userId,userPortrait:i.$store.state.userImage.localImage};a.commentData.push(n),a.commentListShow=!1}})}}};e.default=u}).call(this,i("6e42")["default"],i("0de9")["default"])},"28b0":function(t,e,i){},"476c":function(t,e,i){"use strict";i.r(e);var a=i("164d"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},"64dd":function(t,e,i){"use strict";i.r(e);var a=i("abe8"),n=i("476c");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("c98b");var o=i("2877"),c=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},abe8:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},c98b:function(t,e,i){"use strict";var a=i("28b0"),n=i.n(a);n.a},d42b:function(t,e,i){"use strict";(function(t){i("eee4"),i("921b");a(i("66fd"));var e=a(i("64dd"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])}},[["d42b","common/runtime","common/vendor"]]]);